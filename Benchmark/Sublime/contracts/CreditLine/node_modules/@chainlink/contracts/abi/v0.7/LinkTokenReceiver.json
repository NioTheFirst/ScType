{
	"schemaVersion": "2.0.0",
	"contractName": "LinkTokenReceiver",
	"compilerOutput": {
		"abi": [
			{
				"inputs": [],
				"name": "getChainlinkToken",
				"outputs": [
					{
						"internalType": "address",
						"name": "",
						"type": "address"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "sender",
						"type": "address"
					},
					{
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					},
					{
						"internalType": "bytes",
						"name": "data",
						"type": "bytes"
					}
				],
				"name": "onTokenTransfer",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			}
		],
		"devdoc": {
			"kind": "dev",
			"methods": {
				"onTokenTransfer(address,uint256,bytes)": {
					"details": "The data payload's first 2 words will be overwritten by the `sender` and `amount` values to ensure correctness. Calls oracleRequest.",
					"params": {
						"amount": "Amount of LINK sent (specified in wei)",
						"data": "Payload of the transaction",
						"sender": "Address of the sender"
					}
				}
			},
			"version": 1
		},
		"evm": {
			"bytecode": {
				"object": "0x",
				"sourceMap": ""
			},
			"deployedBytecode": {
				"object": "0x",
				"sourceMap": ""
			},
			"methodIdentifiers": {
				"getChainlinkToken()": "165d35e1",
				"onTokenTransfer(address,uint256,bytes)": "a4c0ed36"
			}
		},
		"metadata": "{\"compiler\":{\"version\":\"0.7.6+commit.7338295f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"getChainlinkToken\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"onTokenTransfer\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"onTokenTransfer(address,uint256,bytes)\":{\"details\":\"The data payload's first 2 words will be overwritten by the `sender` and `amount` values to ensure correctness. Calls oracleRequest.\",\"params\":{\"amount\":\"Amount of LINK sent (specified in wei)\",\"data\":\"Payload of the transaction\",\"sender\":\"Address of the sender\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"onTokenTransfer(address,uint256,bytes)\":{\"notice\":\"Called when LINK is sent to the contract via `transferAndCall`\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"/Users/steve/workspace/chainlink/evm-contracts/src/v0.7/dev/LinkTokenReceiver.sol\":\"LinkTokenReceiver\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":1000000},\"remappings\":[]},\"sources\":{\"/Users/steve/workspace/chainlink/evm-contracts/src/v0.7/dev/LinkTokenReceiver.sol\":{\"keccak256\":\"0x0369f7825291bfb9e60c1802a78ef99ac2a33294a53cfa5b9b876713f6bdc382\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1755267772ed169fe6d1c21c21649e2276db3fdd9c53a486b83cca5bd205a763\",\"dweb:/ipfs/QmQSHMe15MWqGhXw522eF8DG4P6c6nNjZpC9r4QK5H37f5\"]}},\"version\":1}",
		"userdoc": {
			"kind": "user",
			"methods": {
				"onTokenTransfer(address,uint256,bytes)": {
					"notice": "Called when LINK is sent to the contract via `transferAndCall`"
				}
			},
			"version": 1
		}
	},
	"sources": {
		"dev/LinkTokenReceiver.sol": {
			"id": 8
		}
	},
	"sourceCodes": {
		"dev/LinkTokenReceiver.sol": "// SPDX-License-Identifier: MIT\npragma solidity ^0.7.0;\n\nabstract contract LinkTokenReceiver {\n\n  /**\n   * @notice Called when LINK is sent to the contract via `transferAndCall`\n   * @dev The data payload's first 2 words will be overwritten by the `sender` and `amount`\n   * values to ensure correctness. Calls oracleRequest.\n   * @param sender Address of the sender\n   * @param amount Amount of LINK sent (specified in wei)\n   * @param data Payload of the transaction\n   */\n  function onTokenTransfer(\n    address sender,\n    uint256 amount,\n    bytes memory data\n  )\n    public\n    validateFromLINK()\n    permittedFunctionsForLINK(data)\n  {\n    assembly {\n      // solhint-disable-next-line avoid-low-level-calls\n      mstore(add(data, 36), sender) // ensure correct sender is passed\n      // solhint-disable-next-line avoid-low-level-calls\n      mstore(add(data, 68), amount)    // ensure correct amount is passed\n    }\n    // solhint-disable-next-line avoid-low-level-calls\n    (bool success, ) = address(this).delegatecall(data); // calls oracleRequest\n    require(success, \"Unable to create request\");\n  }\n\n  function getChainlinkToken()\n    public\n    view\n    virtual\n    returns (\n      address\n    );\n\n  /**\n   * @notice Validate the function called on token transfer\n   */\n  function _validateTokenTransferAction(\n    bytes4 funcSelector,\n    bytes memory data\n  )\n    internal\n    virtual;\n\n  /**\n   * @dev Reverts if not sent from the LINK token\n   */\n  modifier validateFromLINK() {\n    require(msg.sender == getChainlinkToken(), \"Must use LINK token\");\n    _;\n  }\n\n  /**\n   * @dev Reverts if the given data does not begin with the `oracleRequest` function selector\n   * @param data The data payload of the request\n   */\n  modifier permittedFunctionsForLINK(\n    bytes memory data\n  ) {\n    bytes4 funcSelector;\n    assembly {\n      // solhint-disable-next-line avoid-low-level-calls\n      funcSelector := mload(add(data, 32))\n    }\n    _validateTokenTransferAction(funcSelector, data);\n    _;\n  }\n\n}\n"
	},
	"sourceTreeHashHex": "0x0369f7825291bfb9e60c1802a78ef99ac2a33294a53cfa5b9b876713f6bdc382",
	"compiler": {
		"name": "solc",
		"version": "soljson-v0.7.6+commit.7338295f.js",
		"settings": {
			"optimizer": {
				"runs": 1000000,
				"enabled": true
			},
			"outputSelection": {
				"*": {
					"*": [
						"abi",
						"devdoc",
						"userdoc",
						"evm.bytecode.object",
						"evm.bytecode.sourceMap",
						"evm.deployedBytecode.object",
						"evm.deployedBytecode.sourceMap",
						"evm.methodIdentifiers",
						"metadata"
					]
				}
			},
			"metadata": {
				"bytecodeHash": "none"
			},
			"remappings": []
		}
	},
	"chains": {}
}